services:
  reader:
    restart: always
    image: ghcr.io/intergalacticalvariable/reader:latest
    container_name: reader-container
    expose:
      - 3000
    volumes:
      - local_storage:/app/local-storage

  reader-mcp:
    restart: always
    build:
      context: .
      dockerfile: Dockerfile.mcp
    container_name: reader-mcp-container
    environment:
      - READER_ENDPOINT=http://reader:3000
      - PORT=8080
    expose:
      - 8080
    depends_on:
      - reader

volumes:
  local_storage:
